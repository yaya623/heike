<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="Generator" content="EditPlus">
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<title>黑客帝国代码雨特效</title>
		<meta name="keywords" content="canvas动画" />
		<meta name="description" content="网页特效" />
		<style>
			*{
				padding: 0;
				margin:0;
			}
			html{
				overflow: hidden;
			}
		</style>
</head>
<body>
	<canvas id="canvas" style="background: #111"></canvas>
	<script type="text/javascript">
		window.onload = function(){
			var canvas = document.getElementById("canvas");
			var context =canvas.getContext("2d");
			var W = window.innerWidth;
			var H = window.innerHeight;
			canvas.width = W;
			canvas.height = H;
			var fontSize = 16;
			var colunms = Math.floor(W /fontSize);
			var drops = [];
			for (var i = 0; i<colunms;i++) {
				drops.push(0);
			}

			var str ="javascript html5 canvas";
			function draw() {
				context.fillStyle ="rgba(0,0,0,0.05)";
				context.fillRect(0,0,W,H);
				context.font ="700 "+fontSize+"px 微软雅黑";
				context.fillStyle ="#1e09e9";

				for(var i=0;i<colunms;i++){
					var index = Math.floor(Math.random() * str.length);
					var x = i*fontSize;
					var y = drops[i] *fontSize;
					context.fillText(str[index],x,y);
					if (y >=canvas.height && Math.random() > 0.99) {
						drops[i] = 0;
					}
					drops[i]++;
				}
			};

			function randColor() {
				var r = Math.floor(Math.random() * 256);
				var g = Math.floor(Math.random() * 256);
				var b = Math.floor(Math.random() * 256);
				 return "rgb("+r+","+g+","+b+")";
			}
			draw();
			setInterval(draw,300);
		};
	</script>
</body>
</html>
